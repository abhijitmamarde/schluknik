# Screen for adding current feeling stuff
#:import Pizza pizza

<FeelScreen>:
	sleepranking: sleepranking
	headacheranking: headacheranking
	vomitranking: vomitranking
	lat: app.lat
	lon: app.lon
	global_history: app.global_history
	pizza: pizza
    MyBoxLayout:
        GridLayout:
            cols: 2
            rows: 1
            HeaderImage:
            HeaderLabel:
                text: '  - Yuck...And how do you feel now?'
		##
		GridLayout:
			cols: 2
			rows: 1
			spacing: 100
			# sleep slider
			GridLayout:	
				cols: 2
				rows: 3
				Label:
					id: sleepranking
					text: 'Sleepy'
					color: 0,0,0,1
				Sliderlein:
					id: sleep
					min: 0
					step: 1
					max: 10
			# headache slider
				Label:
					id: headacheranking
					text: 'Headache'
					color: 0,0,0,1
				Sliderlein2:
					id: headache
					min: 0
					step: 1
					max: 10
			# vomit slider
				Label:
					id: vomitranking
					text: 'Sick'
					color: 0,0,0,1
				Sliderlein3:
					id: vomit
					min: 0
					step: 1
					max: 10						
			Pizza:
				
				id: pizza
				serie: [["Sleepy", (33/10) *sleep.value, '0000FF'],["Headache", (33/10) *headache.value, 'FF0000'], ["Sick", (33/10) *vomit.value, '2EFE2E'], ["OK", (100 - (33/10)*(sleep.value + headache.value + vomit.value)), 'F6CEE3']]
				chart_size: 256
				legend_color: '000000'
				chart_border: 1
				legend_value_rayon: 100
				legend_title_rayon: 160
		#
		Spacer:
		Spacer:
		Spacer:
		#
		Seperator:
		HeaderLabel: 
			text: ('Hangover Rating: {} of 10').format(int(3.5/10*(sleep.value + headache.value + vomit.value))) 
		#
		Seperator:
		Seperator:
		#
        # Navigation Bar
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'bottom'
            GridLayout:
                cols: 3
                rows: 1
                ExitButton:
                SettingsButton:
                Button:
                    background_normal: str(False)
                    on_press: root.ftp_transfer()
					background_down: 'pics/app/next.png'
					Image:
						source: 'pics/app/next.png'
						y: self.parent.y + 10
						x: self.parent.x + 100
						size: 80,80
						allow_stretch: False